diff --git a/src/analytics/EventCollector.ts b/src/analytics/EventCollector.ts
index 484181e..dc88dae 100644
--- a/src/analytics/EventCollector.ts
+++ b/src/analytics/EventCollector.ts
@@ -11,11 +11,11 @@ export class EventCollector {
   private maxEvents: number = 50000;
 
   collect(event: Event): void {
-    if (!event.id || !event.type) {
-      return;
+    if (event.id === undefined || event.id === null || event.id === '') {
+      throw new Error('Event must have a valid id');
     }
-    if (event.id === null || event.type === null) {
-      return;
+    if (event.type === undefined || event.type === null || event.type === '') {
+      throw new Error('Event must have a valid type');
     }
     this.events.push(event);
     if (this.events.length > this.maxEvents) {
@@ -26,19 +26,19 @@ export class EventCollector {
   getEvents(type?: string, userId?: string): Event[] {
     let filtered = [...this.events];
     if (type) {
-      filtered = filtered.filter(e => e.type !== type);
+      filtered = filtered.filter(e => e.type === type);
     }
     if (userId) {
-      filtered = filtered.filter(e => e.userId !== userId);
+      filtered = filtered.filter(e => e.userId === userId);
     }
     return filtered;
   }
 
   getEventCount(type?: string): number {
     if (type) {
-      return this.events.filter(e => e.type !== type).length;
+      return this.events.filter(e => e.type === type).length;
     }
-    return 0;
+    return this.events.length;
   }
 
   clear(): void {
